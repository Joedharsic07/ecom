{% extends 'navbase.html' %}
{%load static%}
{% block extra_css %}
<link href="{% static 'css/css/profile.css' %}" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

{% endblock %}
{% block content %}

<div class="profile">
    <h1>User Profile</h1>
    
    <div class="profile-picture">
        <img src="{% if user_profile.profile_picture %}{{ user_profile.profile_picture.url }}{% else %}{% static 'img/defaultprofile' %}{% endif %}"
            alt="Profile Picture" class="profile-pic">
    </div>
    <table class="profile-table">
        <tr>
            <td class="profile-label">Username:</td>
            <td>{{ user.username }}</td>
        </tr>
        <tr>
            <td class="profile-label">First Name:</td>
            <td>{{ user.first_name }}</td>
        </tr>
        <tr>
            <td class="profile-label">Last Name:</td>
            <td>{{ user.last_name }}</td>
        </tr>
        <tr>
            <td class="profile-label">Email:</td>
            <td>{{ user.email }}</td>
        </tr>
    </table>

    <div>
        <button type="button" class="button"><a class="btna" href="{% url 'editprofile' %}">Edit
                profile</a></button>
    </div>
</div>
<script>
    document.querySelector(".profile-icon").addEventListener("click", function () {
    var dropdown = document.querySelector(".dropdown-content");
    dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
});

// Close dropdown if clicking outside
window.addEventListener("click", function(event) {
    var dropdown = document.querySelector(".dropdown-content");
    if (!event.target.closest(".profile-dropdown")) {
        dropdown.style.display = "none";
    }
});
</script>
{% endblock %}